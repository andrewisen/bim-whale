on: push
name: Deploy the BIM Whale
jobs:
    web-deploy:
        name: Deploy
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2.3.2
            - name: Build
              run: |
                  sudo npm install --save-dev typedoc 
                  sudo npm install --save-dev webpack 
                  sudo npm install --save-dev webpack-cli typescript ts-loader
                  sudo npx webpack
                  sudo npx typedoc

            - name: Sync Files
              uses: SamKirkland/FTP-Deploy-Action@4.0.0
              with:
                  server: ftpcluster.loopia.se
                  username: bim-whale-github-actions-ftp
                  password: ${{ secrets.password }}
                  local-dir: docs/
                  server-dir: public_html/docs/
