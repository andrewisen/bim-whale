on: push
name: Deploy the BIM Whale
jobs:
    web-deploy:
        name: Deploy
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2.3.2
            - name: Build
              run: |
                  sudo npm install --save-dev typedoc webpack typescript ts-loader
                  sudo npx typedoc
                  sudo npx webpack

            - name: Sync Files
              uses: SamKirkland/FTP-Deploy-Action@4.0.0
              with:
                  server: ftpcluster.loopia.se
                  username: bim-whale-github-actions-ftp
                  password: ${{ secrets.password }}
                  server-dir: public_html/
